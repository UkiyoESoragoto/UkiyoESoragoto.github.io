


[{"content":"","date":"25 April 2024","externalUrl":null,"permalink":"/posts/","section":"","summary":"","title":"","type":"posts"},{"content":" 传送门 # 点我开始游戏-\u0026gt; 鹰击长空 \u0026lt;-点我开始游戏\n更新日志 # 2024.06.01 # 应江老湿要求放大了飞机模型 修复了部分敌机未开火的问题 其他的记不得了 ","date":"25 April 2024","externalUrl":null,"permalink":"/games/2024/aircraft/","section":"Games","summary":"传送门 # 点我开始游戏-\u0026gt; 鹰击长空 \u0026lt;-点我开始游戏","title":"Cocos 3.x 实验项目——鹰击长空","type":"games"},{"content":"","date":"25 April 2024","externalUrl":null,"permalink":"/games/","section":"Games","summary":"","title":"Games","type":"games"},{"content":"","date":"25 April 2024","externalUrl":null,"permalink":"/categories/html-games/","section":"Categories","summary":"","title":"Html Games","type":"categories"},{"content":"","date":"23 October 2023","externalUrl":null,"permalink":"/tags/aigc/","section":"Tags","summary":"","title":"AIGC","type":"tags"},{"content":"","date":"23 October 2023","externalUrl":null,"permalink":"/categories/tech/","section":"Categories","summary":"","title":"Tech","type":"categories"},{"content":" 前言 # VideoReTalking是什么 # 来看一下官方的简介\nWe present VideoReTalking, a new system to edit the faces of a real-world talking head video according to input audio, producing a high-quality and lip-syncing output video even with a different emotion.\n简而言之，这就是一种能根据输入音频编辑真实世界中人头视频中的人脸——甚至可以处理包含情绪的内容——从而生成高质量的唇语同步输出视频的系统。\n这篇文章的意义 # 因为我个人在解决VideoReTalking系统运行环境中遇到诸多问题，通过反复试错和在互联网上寻求到了的答案。现将个人经验综合成一个解决方案，回馈互联网。\n一些假定 # 假定读者对于家用个人计算机的使用，具备基本水准以上能力；例如：使用Windows操作系统，在Windows系统中安装软件，使用浏览器浏览网页，使用浏览器或其他下载工具下载文件，了解Windows磁盘分区 假定有兴趣实践的读者，在实践中使用Windows 11 专业版 64位操作系统；若使用其他Windows操作系统，本文仅供参考 假定有兴趣实践的读者对于Windows下的终端软件有一定了解；例如：会使用Windows系统的终端cmd或者PowerShell 假定有兴趣实践的读者对于python语言及其在Windows系统中的运行环境有所了解；例如：conda和Anaconda 假定有兴趣实践的读者能够识别计算机知识相关的英文单词；例如：Download一词的含义为下载 假定在无法访问、下载的资料面前，有兴趣实践的读者具备魔法上网的能力；部分资料体积较大，如果魔法上网请留意流量消耗 准备工作 # 很高兴有人阅读到这里，接下来需要一些准备工作，这些准备工作可以是实践过程避免无意义的报错和一些我已知的小问题\n准备工具·必要 # VideoReTalking项目地址 # https://github.com/OpenTalker/video-retalking\n我们当然需要项目的地址，要不实践什么内容呢 ᓚᘏᗢ\nMicrosoft C++ Build Tools下载地址 # https://visualstudio.microsoft.com/visual-cpp-build-tools/\n在Windows平台干活，我们都绕不开微软，不是吗\nconda # 一个工具：适用于任何语言的包、依赖项和环境管理 - Python、R、Ruby、Lua、Scala、Java、JavaScript、C\n现已加入Anaconda豪华套餐\nAnaconda 官方下载页面 https://www.anaconda.com/download\nAnaconda 清华源镜像信息页面 https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/\n如果这个单词不是tsinghua而是qinghua就更美了\nGit工具Windows版本 # https://git-scm.com/download/win\n“真神”林纳斯·贝内迪克特·托瓦兹(Linus Benedict Torvalds)的造物之一\n准备工具·可选 # Nvidia CUDA 相关工具 # 这些内容可以搁置，因为他们可以也通过conda工具安装，手动安装可能导致conda内的python包编译时无法识别\nNvidia CUDA Toolkit https://developer.nvidia.com/cuda-downloads\nNvidia CUDA 深度神经网络库(cuDNN) https://developer.nvidia.com/cudnn\npython dlib包 # https://pypi.org/project/dlib/\n不排除需要手动下载编译安装的情况\n准备环境 # pip仓库镜像设置 # python使用pip作为管理工具，我们所在的区域可能会由于未知原因导致pip仓库无法访问或者拉取速度缓慢，这时候为pip配置一个可信的镜像地址有奇效\n本文推荐使用阿里云镜像仓库。就目前已知的情况而言，清华镜像仓库会出现有些包找不到情况\n在用户目录创建pip文件夹，并在里面添加一个pip.ini文件\n[global] index-url = https://mirrors.aliyun.com/pypi/simple trusted-host = mirrors.aliyun.com 用户目录通常为 C:\\Users\\用户名\n开始施工 # 接下来的步骤有一定的先后顺序，如果出现了问题，可以考虑推倒重来 （比如重装系统？）（删了吧有人会信的），并且按本文的施工顺序操作\n安装相关组件 # 安装Microsoft C++ Build Tools # 具体操作细节可以参考这里: [赛博胎教] 安装Microsoft C++ Build Tools\n通过安装Anaconda获得conda # 具体操作细节可以参考这里: [赛博胎教] 安装Anacoda\n安装Git # 具体操作细节可以参考这里: [赛博胎教] 安装Git\n准备运行环境 # 项目中的ReadMe文件年久失修，都看到这了还是继续跟随文章的步伐吧\n请进入anaconda Prompt执行下面的操作！\n在开始菜单中输入anacoda Prompt，启动anaconda专属终端👇\n不要用其他终端！\n不要用其他终端！！\n不要用其他终端！！!\n拉取项目并且创建conda环境 # 拉取项目到本地👇\ngit clone https://github.com/vinthony/video-retalking.git cd video-retalking 创建环境👇\nconda create -n video_retalking python=3.8 当出现Proceed询问时候，输入y，然后敲击回车键继续👇\n激活环境👇\nconda activate video_retalking 安装环境依赖 # ffmpeg安排一下👇\nconda install ffmpeg 安装 CUDA 和 cuDNN\n不通过 Nvidia 官网，而是通过 Conda 安装 CUDA 和 cuDNN👇\nconda install cuda cudnn -c nvidia 安装torch相关组件👇 这时候需要前往 https://pytorch.org/get-started/previous-versions/ 页面，找到最新的安装命令 也可以通过查看自己安装的版本，找到符合刚才安装cuda版本的torch\n我当前的cuda版本是12，据网上资料表示pytorch-cuda11.8可以兼容，所以在网页上找到最新版，复制了对应的命令执行安装\nconda install pytorch==2.0.0 torchvision==0.15.0 torchaudio==2.0.0 pytorch-cuda=11.8 -c pytorch -c nvidia 再补个chardet\nconda install chardet 为dlib包准备编译工具👇\npip install cmake pip install -r requirements.txt👇\npip install numpy==1.23.1\n下载训练模型 # 前往 https://github.com/OpenTalker/video-retalking/releases 页面，下载除Source code (zip)和Source code (tar.gz) 外的其他文件👇\n在项目内创建一个名为checkpoints的文件夹👇\n将刚才下载的文件全部放进去👇\n解压BFM.zip到BFM文件夹\n注意文件路径，不要出现BFM嵌套的情况\n下载其他组件·可选 # 如果能忍受自动下载缓或者不存在下载速度缓慢的问题，可以忽略这个步骤\n或者为你的终端设置代理 # set https_proxy=http://127.0.0.1:8080 跑个测试 # 创建一个文件夹\nmkdir results 执行测试\npython inference.py --face examples/face/1.mp4 --audio examples/audio/1.wav --outfile results/1_1.mp4 成败在此一举！\n参考资料 # https://blog.csdn.net/AiTanXiing/article/details/129933911 https://blog.arisa.moe/blog/2022/220429-dilb-ultimate-solution\n相关资源 # https://github.com/OpenTalker/video-retalking/releases/download/v0.0.1/30_net_gen.pth\nhttps://github.com/OpenTalker/video-retalking/releases/download/v0.0.1/BFM.zip\nhttps://github.com/OpenTalker/video-retalking/releases/download/v0.0.1/DNet.pt\nhttps://github.com/OpenTalker/video-retalking/releases/download/v0.0.1/ENet.pth\nhttps://github.com/OpenTalker/video-retalking/releases/download/v0.0.1/expression.mat\nhttps://github.com/OpenTalker/video-retalking/releases/download/v0.0.1/face3d_pretrain_epoch_20.pth\nhttps://github.com/OpenTalker/video-retalking/releases/download/v0.0.1/GFPGANv1.3.pth\nhttps://github.com/OpenTalker/video-retalking/releases/download/v0.0.1/GPEN-BFR-512.pth\nhttps://github.com/OpenTalker/video-retalking/releases/download/v0.0.1/LNet.pth\nhttps://github.com/OpenTalker/video-retalking/releases/download/v0.0.1/ParseNet-latest.pth\nhttps://github.com/OpenTalker/video-retalking/releases/download/v0.0.1/RetinaFace-R50.pth\nhttps://github.com/OpenTalker/video-retalking/releases/download/v0.0.1/shape_predictor_68_face_landmarks.dat\n","date":"23 October 2023","externalUrl":null,"permalink":"/posts/2023/1010-videoretalking-unboxing-tutorial/","section":"","summary":"前言 # VideoReTalking是什么 # 来看一下官方的简介","title":"VideoReTalking 开箱教程","type":"posts"},{"content":" 安装Anaconda # Anaconda 官方下载页面 https://www.anaconda.com/download\nAnaconda 清华源镜像信息页面 https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/\n双击启动安装程序👇\n单击下一步按钮开始安装流程👇\n单击我同意按钮👇\n这里建议只为当前用户安装，选择仅自己选项，单击下一步👇\n根据个人需要选择安装位置👇\n选择默认的安装配置项，没必要更改，单击安装按钮👇\n程序员祈祷中\u0026hellip;\n单击下一步按钮👇\n官方炫耀界面，单击下一步按钮👇\n结算界面，取消所有选项后单击完成按钮结束安装👇\n在开始菜单中输入anacoda Prompt，启动anaconda专属终端👇\n不要用其他终端！\n不要用其他终端！！\n不要用其他终端！！!\n输入命令，有类似# packages in environment at开头的输出就算安装成功👇\nconda list ","date":"23 October 2023","externalUrl":null,"permalink":"/posts/2023/1010-cyber-prenatal-education-install-anaconda/","section":"","summary":"安装Anaconda # Anaconda 官方下载页面 https://www.","title":"[赛博胎教] 安装 Anaconda","type":"posts"},{"content":"双击启动安装程序👇\n单击下一步按钮👇\n单击下一步按钮👇\n推荐选择vscode，然后单击下一步按钮👇\n是否打开zzzq功能？还是让git自己决定吧Let Git decide，然后单击下一步按钮👇\n为哪些环境覆盖git相关命令，用官方推荐的，然后单击下一步按钮👇\n选择OpenSSH，然后单击下一步按钮👇\n选择OpenSSL，然后单击下一步按钮👇\n选择原样输出，Uxin风格提交，然后单击下一步按钮👇\n选择使用Windows默认的终端，然后单击下一步按钮👇\n选择默认，然后单击下一步按钮👇\n选择Git证书管理器，然后单击下一步按钮👇\n都选上，然后单击下一步按钮👇\n也都选上，然后单击下一步按钮👇\n静待安装完成↓\n取消所有勾选，然后单击完成按钮👇\n","date":"23 October 2023","externalUrl":null,"permalink":"/posts/2023/1010-cyber-prenatal-education-install-git/","section":"","summary":"双击启动安装程序👇","title":"[赛博胎教] 安装 Git","type":"posts"},{"content":" 安装Microsoft C++ Build Tools # 前往 https://visualstudio.microsoft.com/visual-cpp-build-tools/ 页面下载，并且开始安装\n双击启动安装程序👇\n点击继续按钮👇\n默默等待↓\n安装工具下载完成↓\n选择安装内容👇\n选中c++和.net相关的桌面开发组件👇\n等待下载和安装完成↓ 安装完成，点击OK按钮👇\n","date":"23 October 2023","externalUrl":null,"permalink":"/posts/2023/1010-cyber-prenatal-education-install-microsoft-c++-build-tools/","section":"","summary":"安装Microsoft C++ Build Tools # 前往 https://visualstudio.","title":"[赛博胎教] 安装Microsoft C++ Build Tools","type":"posts"},{"content":"","date":"23 October 2023","externalUrl":null,"permalink":"/tags/c++/","section":"Tags","summary":"","title":"C++","type":"tags"},{"content":"","date":"23 October 2023","externalUrl":null,"permalink":"/tags/conda/","section":"Tags","summary":"","title":"Conda","type":"tags"},{"content":" 准备工作 # ControlNet https://github.com/Mikubill/sd-webui-controlnet\nControlNet Model https://huggingface.co/lllyasviel/ControlNet-v1-1/tree/main\nAfter Detailer https://github.com/Bing-su/adetailer.git\nEbsynth https://ebsynth.com/\nffmpeg https://ffmpeg.org/download.html\nEbsynth Utility https://github.com/s9roll7/ebsynth_utility\n几个还算不错的漫画风格模型 # MeinaMix https://civitai.com/models/7240\nAnimeliner https://civitai.com/models/96394\nAnimePunk https://civitai.com/models/52346\nToonYou https://civitai.com/models/30240\n如果需要魔法上网 # git config --global http.https://huggingface.co.proxy socks5://localhost:1081 git config --global --unset http.https://huggingface.co.proxy 用stage1将视频拆分为帧 # transparent-background options # Mask Threshold设置为0.05\n用stage2取出关键帧 # 用图生图渲染关键帧 # ADetailer # 勾选 Enable ADetailer\nControlNet # 单元0配置 # 勾选 Enable\n勾选Pixel Perfect\nPreprocessor选择tile_resample\nModel选择control_v11f1e_sd15_tile\nControl Weight 调整在0.5左右\n单元1配置 # 勾选 Enable\n勾选Pixel Perfect\nPreprocessor选择softedge_hed\nModel选择control_v11p_sd15_softedge\nControl Weight 调整在0.5左右\nscript 选择ebsynth utility # Project directory # 填写工作路径\nMask option # Mask Mode(Override img2img Mask mode)选择Normal\nInpaint Area(Override img2img Inpaint area)选择Whole picture 替换整个图片风格\n也可以选择Only masked 只替换遮罩部分\nFace Crop option # Face Denoising Strength调整到0.9，降低面部闪烁\n使用stage5产生ebs文件 # 使用EbSynth生成中间帧 # 使用stage7合成视频 # ","date":"23 October 2023","externalUrl":null,"permalink":"/posts/2023/1023-ebsynth-quick-taste/","section":"","summary":"准备工作 # ControlNet https://github.","title":"EbSynth 浅尝","type":"posts"},{"content":"","date":"23 October 2023","externalUrl":null,"permalink":"/tags/git/","section":"Tags","summary":"","title":"Git","type":"tags"},{"content":"","date":"23 October 2023","externalUrl":null,"permalink":"/tags/microsoft/","section":"Tags","summary":"","title":"Microsoft","type":"tags"},{"content":"","date":"23 October 2023","externalUrl":null,"permalink":"/tags/python/","section":"Tags","summary":"","title":"Python","type":"tags"},{"content":"","date":"23 October 2023","externalUrl":null,"permalink":"/tags/%E8%B5%9B%E5%8D%9A%E8%83%8E%E6%95%99/","section":"Tags","summary":"","title":"赛博胎教","type":"tags"},{"content":"202x年了还有人能找到这里，评教系统还没弃用吗，这可太顶了。\n","date":"20 March 2023","externalUrl":null,"permalink":"/blog/005/","section":"Blogs","summary":"202x年了还有人能找到这里，评教系统还没弃用吗，这可太顶了。","title":"005","type":"blog"},{"content":"","date":"20 March 2023","externalUrl":null,"permalink":"/blog/","section":"Blogs","summary":"","title":"Blogs","type":"blog"},{"content":"","date":"20 November 2022","externalUrl":null,"permalink":"/en/","section":"UkiyoESoragoto","summary":"","title":"UkiyoESoragoto","type":"page"},{"content":"","date":"25 June 2022","externalUrl":null,"permalink":"/tags/virtualbox/","section":"Tags","summary":"","title":"VirtualBox","type":"tags"},{"content":" https://docs.oracle.com/en/virtualization/virtualbox/6.0/admin/autostart.html\n编辑/etc/default/virtualbox\n# virtualbox defaults file VBOXAUTOSTART_DB=/etc/vbox VBOXAUTOSTART_CONFIG=/etc/vbox/autostart.cfg 创建文件/etc/vbox/autostart.cfg\n# Default policy is to deny starting a VM, the other option is \u0026#34;allow\u0026#34;. default_policy = deny # Create an entry for each user allowed to run autostart username = { allow = true } 修改权限，配置虚拟机自启动\nsudo chgrp vboxusers /etc/vbox sudo chmod 777 /etc/vbox sudo usermod -a -G vboxusers $USER # 这一步似乎可以省略 # VBoxManage setproperty autostartdbpath /etc/vbox VBoxManage modifyvm \u0026lt;uuid|vmname\u0026gt; --autostart-enabled on ","date":"25 June 2022","externalUrl":null,"permalink":"/posts/2022/0625-virtualbox6.x-startup-boot/","section":"","summary":"https://docs.","title":"VirtualBox6.x开机自启动","type":"posts"},{"content":"","date":"11 March 2019","externalUrl":null,"permalink":"/tags/css/","section":"Tags","summary":"","title":"Css","type":"tags"},{"content":"","date":"11 March 2019","externalUrl":null,"permalink":"/tags/html/","section":"Tags","summary":"","title":"Html","type":"tags"},{"content":"","date":"11 March 2019","externalUrl":null,"permalink":"/tags/markdown/","section":"Tags","summary":"","title":"Markdown","type":"tags"},{"content":"This article offers a sample of basic Markdown formatting that can be used in Blowfish, also it shows how some basic HTML elements are decorated.\nHeadings # The following HTML \u0026lt;h1\u0026gt;—\u0026lt;h6\u0026gt; elements represent six levels of section headings. \u0026lt;h1\u0026gt; is the highest section level while \u0026lt;h6\u0026gt; is the lowest.\nH1 # H2 # H3 # H4 # H5 # H6 # Paragraph # Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\nBlockquotes # The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations.\nBlockquote without attribution # Tiam, ad mint andaepu dandae nostion secatur sequo quae. Note that you can use Markdown syntax within a blockquote.\nBlockquote with attribution # Don\u0026rsquo;t communicate by sharing memory, share memory by communicating.\n— Rob Pike1\nTables # Tables aren\u0026rsquo;t part of the core Markdown spec, but Hugo supports supports them out-of-the-box.\nName Age Bob 27 Alice 23 Inline Markdown within tables # Italics Bold Code italics bold code Code Blocks # Code block with backticks # \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block indented with four spaces # \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026quot;utf-8\u0026quot;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with Hugo\u0026rsquo;s internal highlight shortcode # 1 2 3 4 5 6 7 8 9 10 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with Hugo\u0026rsquo;s internal highlight shortcode # package main import ( \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; _ \u0026#34;net/http/pprof\u0026#34; ) func main() { // 开启pprof，监听请求 ip := \u0026#34;0.0.0.0:6060\u0026#34; if err := http.ListenAndServe(ip, nil); err != nil { fmt.Printf(\u0026#34;start pprof failed on %s\\n\u0026#34;, ip) } } List Types # Ordered List # First item Second item Third item Unordered List # List item Another item And another item Nested list # Fruit Apple Orange Banana Dairy Milk Cheese Other Elements — abbr, sub, sup, kbd, mark # GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL+ALT+Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\nThe above quote is excerpted from Rob Pike\u0026rsquo;s talk about nothing during Gopherfest, November 18, 2015.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"11 March 2019","externalUrl":null,"permalink":"/about/","section":"","summary":"\u003cp\u003eThis article offers a sample of basic Markdown formatting that can be used in Blowfish, also it shows how some basic HTML elements are decorated.\u003c/p\u003e","title":"Markdown","type":"sample"},{"content":"","date":"11 March 2019","externalUrl":null,"permalink":"/tags/sample/","section":"Tags","summary":"","title":"Sample","type":"tags"},{"content":"","date":"8 August 2018","externalUrl":null,"permalink":"/tags/django/","section":"Tags","summary":"","title":"Django","type":"tags"},{"content":"","date":"8 August 2018","externalUrl":null,"permalink":"/tags/wechat/","section":"Tags","summary":"","title":"WeChat","type":"tags"},{"content":"(￣◇￣;) 啊 果然是\b好记性不如烂笔头 才下班没多久居然就要忘了\n第一坑 POST方法接收请求后，数据解析失败 # 框架当然是 Django REST framework\n临床表现为：读取request.data提示不支持\n提示如下\n{UnsupportedMediaType}不支持请求中的媒体类型 “text/xml”\n\b然而仔细看下调试信息就会发现 request.stream.body 里就是我想要的信息。\n那解决方法\b是啥，当然是徒手撸一个Parser，然后告诉他 media_type = 'text/xml'，也没啥技术含量，因为这个\b代码都是COPY来的，略作修改就行\n参考 Django REST framework- Custom parsers\nfrom rest_framework.parsers import BaseParser class TextXMLParser(BaseParser): \u0026#34;\u0026#34;\u0026#34; Plain text parser. \u0026#34;\u0026#34;\u0026#34; media_type = \u0026#39;text/xml\u0026#39; def parse(self, stream, media_type=None, parser_context=None): \u0026#34;\u0026#34;\u0026#34; Simply return a string representing the body of the request. \u0026#34;\u0026#34;\u0026#34; return stream.read() 然后在继承了APIView的类里注明 parser_classes 即可\nfrom rest_framework.views import APIView class Example(APIView): parser_classes = (TextXMLParser,) def post(self, request): \bdata=request.data ","date":"8 August 2018","externalUrl":null,"permalink":"/posts/2018/0808-enterprise-wechat-development-troubleshooting/","section":"","summary":"(￣◇￣;) 啊 果然是\b好记性不如烂笔头 才下班没多久居然就要忘了","title":"企业微信开发填坑","type":"posts"},{"content":"","date":"7 April 2017","externalUrl":null,"permalink":"/tags/.net/","section":"Tags","summary":"","title":".Net","type":"tags"},{"content":"","date":"7 April 2017","externalUrl":null,"permalink":"/tags/c","section":"Tags","summary":"","title":"C#","type":"tags"},{"content":"Copy from: http://stackoverflow.com/a/4660186/4190277\nWhat is the cause? # Bottom Line # You are trying to use something that is null (or Nothing in VB.NET). This means you either set it to null, or you never set it to anything at all.\nLike anything else, null gets passed around. If it is null in method \u0026ldquo;A\u0026rdquo;, it could be that method \u0026ldquo;B\u0026rdquo; passed a null to method \u0026ldquo;A\u0026rdquo;.\nThe rest of this article goes into more detail and shows mistakes that many programmers often make which can lead to a NullReferenceException.\nMore Specifically # The runtime throwing a NullReferenceException always means the same thing: you are trying to use a reference. The reference is not initialized (or it was once initialized, but is no longer initialized).\nThis means the reference is null, and you cannot access members through a null reference. The simplest case:\nstring foo = null; foo.ToUpper(); This will throw a NullReferenceException at the second line, because you can\u0026rsquo;t call the instance method ToUpper() on a string reference pointing to null.\nDebugging # How do you find the source of a NullReferenceException? Apart from looking at the exception itself, which will be thrown exactly at the location where it occurs, the general rules of debugging in Visual Studio apply: place strategic breakpoints and inspect your variables, either by hovering the mouse over their names, opening a (Quick)Watch window or using the various debugging panels like Locals and Autos.\nIf you want to find out where the reference is or isn\u0026rsquo;t set, right-click its name and select \u0026ldquo;Find All References\u0026rdquo;. You can then place a breakpoint at every found location and run your program with the debugger attached. Every time the debugger breaks on such a breakpoint, you need to determine whether you expect the reference to be non-null, inspect the variable and and verify that it points to an instance when you expect it to.\nBy following the program flow this way you can find the location where the instance should not be null, and why it isn\u0026rsquo;t properly set.\nExamples # Some common scenarios where the exception can be thrown:\nGeneric # ref1.ref2.ref3.member If ref1 or ref2 or ref3 is null, then you\u0026rsquo;ll get a NullReferenceException. If you want to solve the problem, then find out which one is null by rewriting the expression to its simpler equivalent:\nvar r1 = ref1; var r2 = r1.ref2; var r3 = r2.ref3; r3.member Specifically, in HttpContext.Current.User.Identity.Name, the HttpContext.Current could be null, or the User property could be null, or the Identity property could be null.\nClass instances # When creating a variable of a reference (class) type it is by default set to null.\npublic class Book { public string Title { get; set; } } public class Example { public void Foo() { Book b1; string title = b1.Title; // You never initialized the b1 variable. // there is no book to get the title from. } } Class type variables must either be initialized or set to an already existing class instance. Initialization is done by using the new keyword.\nBook b1 = new Book(); Indirect # public class Person { public int Age { get; set; } } public class Book { public Person Author { get; set; } } public class Example { public void Foo() { Book b1 = new Book(); int authorAge = b1.Author.Age; // You never initialized the Author property. // there is no Person to get an Age from. } } If you want to avoid the child (Person) null reference you could initialize it in the parent (Book) object\u0026rsquo;s constructor.\nThe same applies to nested object initializers:\nBook b1 = new Book { Author = { Age = 45 } }; While the new keyword is used, it only creates a new instance of Book, but not a new instance of Person, so the Author the property is still null.\nArray # int[] numbers = null; int n = numbers[0]; // numbers is null. There is no array to index. Array Elements # Person[] people = new Person[5]; people[0].Age = 20 // people[0] is null. The array was allocated but not // initialized. There is no Person to set the Age for. Jagged Arrays # long[][] array = new long[1][]; array[0][0] = 3; // is null because only the first dimension is yet initialized. // Use array[0] = new long[2]; first. Collection/List/Dictionary # Dictionary\u0026lt;string, int\u0026gt; agesForNames = null; int age = agesForNames[\u0026#34;Bob\u0026#34;]; // agesForNames is null. // There is no Dictionary to perform the lookup. Range Variable (Indirect/Deferred) # public class Person { public string Name { get; set; } } var people = new List\u0026lt;Person\u0026gt;(); people.Add(null); var names = from p in people select p.Name; string firstName = names.First(); // Exception is thrown here, but actually occurs // on the line above. \u0026#34;p\u0026#34; is null because the // first element we added to the list is null. Events # public class Demo { public event EventHandler StateChanged; protected virtual void OnStateChanged(EventArgs e) { StateChanged(this, e); // Exception is thrown here // if no event handlers have been attached // to StateChanged event } } Bad Naming Conventions: # If you named fields differently from locals, you might have realized that you never initialized the field.\npublic class Form1 { private Customer customer; private void Form1_Load(object sender, EventArgs e) { Customer customer = new Customer(); customer.Name = \u0026#34;John\u0026#34;; } private void Button_Click(object sender, EventArgs e) { MessageBox.Show(customer.Name); } } This can be solved by following the convention to prefix fields with an underscore:\nprivate Customer _customer; ASP.NET Page Life cycle: # public partial class Issues_Edit : System.Web.UI.Page { protected TestIssue myIssue; protected void Page_Load(object sender, EventArgs e) { if (!IsPostBack) { // Only called on first load, not when button clicked myIssue = new TestIssue(); } } protected void SaveButton_Click(object sender, EventArgs e) { myIssue.Entry = \u0026#34;NullReferenceException here!\u0026#34;; } } ASP.NET Session Values # // if the \u0026#34;FirstName\u0026#34; session value has not yet been set, // then this line will throw a NullReferenceException string firstName = Session[\u0026#34;FirstName\u0026#34;].ToString(); ASP.NET MVC empty view models # If the exception occurs when referencing a property of @Model in an ASP.NET MVC view, you need to understand that the Model gets set in your action method, when you return a view. When you return an empty model (or model property) from your controller, the exception occurs when the views accesses it:\n// Controller public class Restaurant:Controller { public ActionResult Search() { return View(); // Forgot the provide a Model here. } } // Razor view @foreach (var restaurantSearch in Model.RestaurantSearch) // Throws. { } \u0026lt;p\u0026gt;@Model.somePropertyName\u0026lt;/p\u0026gt; \u0026lt;!-- Also throws --\u0026gt; WPF Control Creation Order and Events # WPF controls are created during the call to InitializeComponent in the order they appear in the visual tree. A NullReferenceException will be raised in the case of early-created controls with event handlers, etc, that fire during InitializeComponent which reference late-created controls.\nFor example :\n\u0026lt;Grid\u0026gt; \u0026lt;!-- Combobox declared first --\u0026gt; \u0026lt;ComboBox Name=\u0026#34;comboBox1\u0026#34; Margin=\u0026#34;10\u0026#34; SelectedIndex=\u0026#34;0\u0026#34; SelectionChanged=\u0026#34;comboBox1_SelectionChanged\u0026#34;\u0026gt; \u0026lt;ComboBoxItem Content=\u0026#34;Item 1\u0026#34; /\u0026gt; \u0026lt;ComboBoxItem Content=\u0026#34;Item 2\u0026#34; /\u0026gt; \u0026lt;ComboBoxItem Content=\u0026#34;Item 3\u0026#34; /\u0026gt; \u0026lt;/ComboBox\u0026gt; \u0026lt;!-- Label declared later --\u0026gt; \u0026lt;Label Name=\u0026#34;label1\u0026#34; Content=\u0026#34;Label\u0026#34; Margin=\u0026#34;10\u0026#34; /\u0026gt; \u0026lt;/Grid\u0026gt; Here comboBox1 is created before label1. If comboBox1_SelectionChanged attempts to reference label1 it will not yet have been created.\nprivate void comboBox1_SelectionChanged(object sender, SelectionChangedEventArgs e) { label1.Content = comboBox1.SelectedIndex.ToString(); // NullReference here!! } Changing the order of the declarations in the XAML (ie: listing label1 before comboBox1, ignoring issues of design philosophy, would at least resolve the NullReferenceException here.\nCast with as # var myThing = someObject as Thing; This doesn\u0026rsquo;t throw an InvalidCastException, but returns a null when the cast fails (and when someObject is itself null). So be aware of that.\nLINQ FirstOrDefault() and SingleOrDefault() # The plain versions First() and Single() throw exceptions when there is nothing. The \u0026ldquo;OrDefault\u0026rdquo; versions return null in that case. So be aware of that.\nforeach # foreach throws when you try to iterate null collection. Usually caused by unexpected null result from methods that return collections.\nList\u0026lt;int\u0026gt; list = null; foreach(var v in list) { } // exception More realistic example- select nodes from XML document. Will throw if nodes are not found but initial debugging shows that all properties valid:\nforeach (var node in myData.MyXml.DocumentNode.SelectNodes(\u0026#34;//Data\u0026#34;)) ","date":"7 April 2017","externalUrl":null,"permalink":"/posts/2017/0407-what-is-a-nullreferenceexception-and-how-do-i-fix-it/","section":"","summary":"Copy from: http://stackoverflow.","title":"What is a NullReferenceException, and how do I fix it?","type":"posts"},{"content":"","date":"3 April 2017","externalUrl":null,"permalink":"/tags/perl/","section":"Tags","summary":"","title":"Perl","type":"tags"},{"content":"Copy from: http://stackoverflow.com/questions/2499794/how-to-fix-a-locale-setting-warning-from-perl\nYour OS doesn\u0026rsquo;t know about en_US.UTF-8.\nYou didn\u0026rsquo;t mention a specific platform, but I can reproduce your problem:\n% uname -a OSF1 hunter2 V5.1 2650 alpha % perl -e exit perl: warning: Setting locale failed. perl: warning: Please check that your locale settings: LC_ALL = (unset), LANG = \u0026#34;en_US.UTF-8\u0026#34; are supported and installed on your system. perl: warning: Falling back to the standard locale (\u0026#34;C\u0026#34;). My guess is you used ssh to connect to this older host from a newer desktop machine. It\u0026rsquo;s common for /etc/ssh/sshd_config to contain\nAcceptEnv LANG LC_* which allows clients to propagate into new sessions the values of those environment variables.\nThe warning gives you a hint about how to squelch it if you don\u0026rsquo;t require the full-up locale:\n% env LANG=C perl -e exit % or with bash:\n$ LANG=C perl -e exit $ ","date":"3 April 2017","externalUrl":null,"permalink":"/posts/2017/0403-perl-warning-setting-locale-failed/","section":"","summary":"Copy from: http://stackoverflow.","title":"perl: warning: Setting locale failed","type":"posts"},{"content":"I just need build pure C project on windows\ngit submodule update --init --recursive mingw # pacman -S mingw-w64-i686-toolchain tar perl make openssl asciidoc xmlto libtool automake autoconf git gcc pcre libpcre mingw-w64-x86_64-pcre mingw-w64-x86_64-mbedtls mingw-w64-x86_64-libsodium cygwin # apt-cyg install gcc-g++ make automake autoconf libtool asciidoc ","date":"24 March 2017","externalUrl":null,"permalink":"/posts/2017/0324-build-pure-c-project-on-windows/","section":"","summary":"I just need build pure C project on windows","title":"Build pure C project on Windows","type":"posts"},{"content":"","date":"24 March 2017","externalUrl":null,"permalink":"/tags/c/","section":"Tags","summary":"","title":"C","type":"tags"},{"content":"","date":"24 March 2017","externalUrl":null,"permalink":"/tags/windows/","section":"Tags","summary":"","title":"Windows","type":"tags"},{"content":"C:\\Program Files路径下的操作需要管理员权限，因此在非管理员权限程序路径下生成文件会失败，并可能因此导致程序闪退。\n用于banding的属性不能为private\n在wpf项目中正确的输出姿势(内容将输出至Out Put窗口，快捷键：ctrl + alt + o)：\nTrace.WriteLine(\u0026#34;text\u0026#34;); Reference: http://stackoverflow.com/a/160606/4190277\n","date":"28 February 2017","externalUrl":null,"permalink":"/posts/2017/0228-windows-dev-tips/","section":"","summary":"C:\\Program Files路径下的操作需要管理员权限，因此在非管理员权限程序路径下生成文件会失败，并可能因此导致程序闪退。","title":"Windows Dev Tips","type":"posts"},{"content":"","date":"16 February 2017","externalUrl":null,"permalink":"/tags/wpf/","section":"Tags","summary":"","title":"WPF","type":"tags"},{"content":"WPF Image UriSource and Data Binding using http:\\\\ URL\nSolution 1\nhttp://stackoverflow.com/questions/3148163/wpf-image-urisource-and-data-binding-using-http-url\nvar url = @\u0026#34;http://xxx.jpg\u0026#34;; var image = new BitmapImage(); const int bytesToRead = 100; var request = WebRequest.Create(new Uri(url, UriKind.Absolute)); request.Timeout = -1; var response = request.GetResponse(); var responseStream = response.GetResponseStream(); if (responseStream != null) { var reader = new BinaryReader(responseStream); var memoryStream = new MemoryStream(); var bytebuffer = new byte[bytesToRead]; var bytesRead = reader.Read(bytebuffer, 0, bytesToRead); while (bytesRead \u0026gt; 0) { memoryStream.Write(bytebuffer, 0, bytesRead); bytesRead = reader.Read(bytebuffer, 0, bytesToRead); } image.BeginInit(); memoryStream.Seek(0, SeekOrigin.Begin); image.StreamSource = memoryStream; image.EndInit(); ImgAvatar.Source = image; bytebuffer = null; memoryStream.Dispose(); memoryStream = null; } Solution 2\nvar url = @\u0026#34;http://xxx.jpg\u0026#34;; var source = new BitmapImage(new Uri(url, UriKind.RelativeOrAbsolute)) { CacheOption = BitmapCacheOption.None, CreateOptions = BitmapCreateOptions.DelayCreation }; source.DecodeFailed += (sender, e) =\u0026gt; { ImgAvatar.Visibility = Visibility.Hidden; ImgAvatarDefault.Visibility = Visibility.Visible; }; source.DownloadFailed += (sender, e) =\u0026gt; { ImgAvatar.Visibility = Visibility.Hidden; ImgAvatarDefault.Visibility = Visibility.Visible; }; source.DownloadCompleted += (sender, e) =\u0026gt; { ImgAvatar.Visibility = Visibility.Hidden; ImgAvatarDefault.Visibility = Visibility.Visible; }; ImgAvatar.Source = source; ","date":"16 February 2017","externalUrl":null,"permalink":"/posts/2017/0216-wpf-image-urisource-and-data-binding-using-http-url/","section":"","summary":"WPF Image UriSource and Data Binding using http:\\\\ URL","title":"WPF Image UriSource and Data Binding using http:\\\\ URL","type":"posts"},{"content":"WPF change button style with image\nStyle:\n\u0026lt;Style TargetType=\u0026#34;Button\u0026#34; x:Key=\u0026#34;BtnLoginImg\u0026#34;\u0026gt; \u0026lt;Setter Property=\u0026#34;Width\u0026#34; Value=\u0026#34;220\u0026#34;/\u0026gt; \u0026lt;Setter Property=\u0026#34;Height\u0026#34; Value=\u0026#34;45\u0026#34;/\u0026gt; \u0026lt;Setter Property=\u0026#34;Padding\u0026#34; Value=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;Setter Property=\u0026#34;BorderThickness\u0026#34; Value=\u0026#34;0\u0026#34;/\u0026gt; \u0026lt;Setter Property=\u0026#34;HorizontalAlignment\u0026#34; Value=\u0026#34;Center\u0026#34;/\u0026gt; \u0026lt;Setter Property=\u0026#34;VerticalAlignment\u0026#34; Value=\u0026#34;Center\u0026#34;/\u0026gt; \u0026lt;Setter Property=\u0026#34;Foreground\u0026#34; Value=\u0026#34;White\u0026#34;/\u0026gt; \u0026lt;Setter Property=\u0026#34;FontSize\u0026#34; Value=\u0026#34;14\u0026#34;/\u0026gt; \u0026lt;Setter Property=\u0026#34;Template\u0026#34;\u0026gt; \u0026lt;Setter.Value\u0026gt; \u0026lt;ControlTemplate TargetType=\u0026#34;Button\u0026#34;\u0026gt; \u0026lt;Grid x:Name=\u0026#34;Grid\u0026#34;\u0026gt; \u0026lt;Image Name=\u0026#34;ImgBtnLogin\u0026#34; Source=\u0026#34;../Resources/Img/btn_default.png\u0026#34;/\u0026gt; \u0026lt;ContentPresenter HorizontalAlignment=\u0026#34;{TemplateBinding HorizontalContentAlignment}\u0026#34; VerticalAlignment=\u0026#34;{TemplateBinding VerticalContentAlignment}\u0026#34; Margin=\u0026#34;{TemplateBinding Padding}\u0026#34; RecognizesAccessKey=\u0026#34;True\u0026#34;/\u0026gt; \u0026lt;/Grid\u0026gt; \u0026lt;ControlTemplate.Triggers\u0026gt; \u0026lt;Trigger Property=\u0026#34;Button.IsMouseOver\u0026#34; Value=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;Setter Property=\u0026#34;Image.Source\u0026#34; TargetName=\u0026#34;ImgBtnLogin\u0026#34; Value=\u0026#34;../Resources/Img/btn_mouseover.png\u0026#34;/\u0026gt; \u0026lt;/Trigger\u0026gt; \u0026lt;Trigger Property=\u0026#34;Button.IsPressed\u0026#34; Value=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;Setter Property=\u0026#34;Image.Source\u0026#34; TargetName=\u0026#34;ImgBtnLogin\u0026#34; Value=\u0026#34;../Resources/Img/btn_press.png\u0026#34;/\u0026gt; \u0026lt;/Trigger\u0026gt; \u0026lt;/ControlTemplate.Triggers\u0026gt; \u0026lt;/ControlTemplate\u0026gt; \u0026lt;/Setter.Value\u0026gt; \u0026lt;/Setter\u0026gt; \u0026lt;/Style\u0026gt; ","date":"6 February 2017","externalUrl":null,"permalink":"/posts/2017/0206-wpf-change-button-style-with-image/","section":"","summary":"WPF change button style with image","title":"WPF change button style with image","type":"posts"},{"content":"Add new Hard Disk to Linux Conver to GTP, format disk and mount disk\nStep 1. Find new drive # sudo fdisk -lu Check message and find new drive\nFor example, new drive is /dev/sdx\nStep 2. Conver to GPT # sudo parted /dev/sdx mklabel gpt Learn more about GPT(GUID Partition Table) on wikipedia: Engilsh Chinese\nStep 3. Format to ext4 # sudo mkfs -t ext4 /dev/sdx Step 4. Mount Hard Disk # sudo df -lh # check partition sudo mkdir /path/to/mount/drive sudo mount -t ext4 /dev/sdx /path/to/mount/drive sudo df -lh # confirm setting Step 5. Auto-Mount on start-up # ls -l /dev/disk/by-uuid/ sudo vim /etc/fstab # add messages UUID=xxxxx /path/to/mount/drive ext4 defaults 0 3 ","date":"23 November 2016","externalUrl":null,"permalink":"/posts/2016/20161123-add-new-hard-disk-to-linux/","section":"","summary":"Add new Hard Disk to Linux Conver to GTP, format disk and mount disk","title":"Add new Hard Disk to Linux","type":"posts"},{"content":"","date":"23 November 2016","externalUrl":null,"permalink":"/tags/hard-disk/","section":"Tags","summary":"","title":"Hard Disk","type":"tags"},{"content":"","date":"23 November 2016","externalUrl":null,"permalink":"/tags/linux/","section":"Tags","summary":"","title":"Linux","type":"tags"},{"content":"","date":"9 November 2016","externalUrl":null,"permalink":"/tags/google/","section":"Tags","summary":"","title":"Google","type":"tags"},{"content":" 关于 # Tag Assistant是一款Chrome插件，可自动验证任何指定网页上的Google跟踪脚本的实施情况。它目前适用于：\nGoogle Analytics (ga.js) Google Analytics (dc.js) AdWords Conversion Tracking AdWords Remarketing (legacy) AdWords Remarketing (new remarketing tag) Doubleclick Floodlight Google Tag Manage 您可以通过下面的链接安装Tag Assistant。\n当前地址(20161109)\nhttps://chrome.google.com/webstore/detail/tag-assistant-by-google/kejbdjndbnbjgmefkgdddjlbokphdefk\n","date":"9 November 2016","externalUrl":null,"permalink":"/posts/2016/20161109-google-tag-assistant-usage/","section":"","summary":"关于 # Tag Assistant是一款Chrome插件，可自动验证任何指定网页上的Google跟踪脚本的实施情况。它目前适用于：","title":"Google Tag Assistant usage","type":"posts"},{"content":"","date":"27 May 2016","externalUrl":null,"permalink":"/tags/cocos2d-x/","section":"Tags","summary":"","title":"Cocos2d-X","type":"tags"},{"content":"这篇备忘是基于cocos2d-x 3.10在mac上编译，针对iOS与Android开发的场合记录的\n首先\ncocos2d-x在android上不支持std::fstream 见鬼去吧\ncocos的基本实现方式是fopen\n然而在andorid端，fopen无法直接加载打包在apk内的文件 精妙绝伦 微笑\n总之一番折腾，总结出如下关系：\n表1: 读取打包于app内的文件 # | Plantform | iOS　| Android | | :\n","date":"27 May 2016","externalUrl":null,"permalink":"/posts/2016/20160527-cocos2d-x-file-read-and-write-issue-memo/","section":"","summary":"这篇备忘是基于cocos2d-x 3.","title":"Cocos2d-x文件读写问题备忘","type":"posts"},{"content":"代码：https://github.com/CooloiStudio/django_I18Ntest\n包含翻译文件(.po)的文件夹名称会影响翻译结果 正确：zh_CN, en_US, ja_JP 即：\u0026lt;小写语言缩写\u0026gt;\u0026lt;下划线\u0026gt;\u0026lt;大写的地区缩写\u0026gt;\n错误：ZH_CN, en_us, ja-JP 即：大小写和下划线均影响翻译文件的加载\n该问题在Linux/ubuntu下出现 在OS X下则不受影响\n其他平台或操作系统尚未测试\n","date":"23 December 2015","externalUrl":null,"permalink":"/posts/2015/1223-django-internationalization-and-localization-issues-memo/","section":"","summary":"代码：https://github.com/CooloiStudio/django_I18Ntest","title":"Django国际化与本地化问题备忘","type":"posts"},{"content":" auto n = 1; auto m = 3; int* ptr = \u0026amp;m; const int* const p = \u0026amp;n; // const pointer, const data * p = 0; // error p = ptr; // error const int* q = \u0026amp;n; // non-const pointer, const data * q = 0; // error q = ptr; int* const e = \u0026amp;n; // const pointer, non-const data * e = 0; e = ptr; // error int* r = \u0026amp;n; // non-cosnt pointer, non-const data * r = 0; r = ptr; ","date":"3 December 2015","externalUrl":null,"permalink":"/posts/2015/1203-c-const-with-pointers/","section":"","summary":" auto n = 1; auto m = 3; int* ptr = \u0026amp;m; const int* const p = \u0026amp;n; // const pointer, const data * p = 0; // error p = ptr; // error const int* q = \u0026amp;n; // non-const pointer, const data * q = 0; // error q = ptr; int* const e = \u0026amp;n; // const pointer, non-const data * e = 0; e = ptr; // error int* r = \u0026amp;n; // non-cosnt pointer, non-const data * r = 0; r = ptr; ","title":"C/C++ const with Pointers","type":"posts"},{"content":"","date":"20 July 2015","externalUrl":null,"permalink":"/tags/ubuntu/","section":"Tags","summary":"","title":"Ubuntu","type":"tags"},{"content":" 启动文件管理器 # sudo nautilus 安装gnome桌面 # sudo apt-get install gnome-session-fallback 搜狗输入法黑框 # sudo apt-get install xcompmgr sudo cat ~/.xprofile xcompmgr \u0026amp; ","date":"20 July 2015","externalUrl":null,"permalink":"/posts/2017/0403-ubuntu-may-need-various-commands/","section":"","summary":"启动文件管理器 # sudo nautilus 安装gnome桌面 # sudo apt-get install gnome-session-fallback 搜狗输入法黑框 # sudo apt-get install xcompmgr sudo cat ~/.","title":"Ubuntu可能要用的各种……命令","type":"posts"},{"content":" ubuntu 可能需要的字体 # http://wenq.org/wqy2/index.cgi?ZenHei\nsudo apt-get install ttf-wqy-zenhei ubuntu 可能需要的mono组件 # sudo apt-get install mono-complete ubuntu 用bind9提供dns服务 [How to configure DNS server in ubuntu 14.04] # http://www.krizna.com/ubuntu/configure-dns-server-ubuntu-14-04/\n","date":"20 July 2015","externalUrl":null,"permalink":"/posts/2015/0720-ubuntu-may-need-various-things/","section":"","summary":"ubuntu 可能需要的字体 # http://wenq.","title":"Ubuntu可能要用的各种……恩","type":"posts"},{"content":"","date":"22 May 2015","externalUrl":null,"permalink":"/tags/debian/","section":"Tags","summary":"","title":"Debian","type":"tags"},{"content":" On Host # Crate debian-archive-keyring # apt-get install debian-archive-keyring apt-get update apt-get upgraded Install some tools # apt-get install vim apt-get install emacs Add new user # adduser username Install sudo tool # apt-get install sudo Change /etc/sudoers # vim /etc/sudoers username ALL=(ALL) NOPASSWD: ALL Please use this setting carefully\nBlock root ssh login, change ssh port # vim /etc/ssh/sshd_config Port number PermitRootLogin no Restart # shutdown -r now On Host # Setting ssh login # ssh-copy-id username@host -p port Login # ssh username@host -p port On VPS # Install tools # sudo apt-get install gcc g++ make libssl-dev python-dev sudo apt-get install locate sudo updatedb Download sqlite3 # make \u0026amp; install # Download Python-2.7 # make \u0026amp; install # Install Python tools # wget --no-check-certificate https://bootstrap.pypa.io/ez_setup.py sudo python ez_setup.py --insecure sudo easy_install pip sudo pip install django Make a test for django # django-admin.py startproject mysite python manage.py runserver 0.0.0.0:8001 Setting up Django and your web server with uWSGI and nginx\nInstall uwsgi # sudo pip install uwsgi Basic test\nInstall nginx # wget -O key http://nginx.org/keys/nginx_signing.key \u0026amp;\u0026amp; sudo apt-key add key \u0026amp;\u0026amp; sudo rm -f key Append the appropriate stanza to /etc/apt/sources.list. # deb http://nginx.org/packages/debian/ squeeze nginx deb-src http://nginx.org/packages/debian/ squeeze nginx deb http://nginx.org/packages/debian/ wheezy nginx deb-src http://nginx.org/packages/debian/ wheezy nginx and run these command\nsudo apt-get update sudo apt-get install nginx Test nginx # sudo service nginx start Some config files # mysite_uwsgi.ini # # mysite_uwsgi.ini file [uwsgi] # Django-related settings # the base directory (full path) chdir = /full/path/to/Django/project # Django\u0026#39;s wsgi file (dir.file ex:/mysite/wsgi.py) module = mysite.wsgi # the virtualenv (full path) # home = /path/to/virtualenv # process-related settings # master master = true # maximum number of worker processes processes = 10 # the socket (use the full path to be safe socket = /full/path/to/mysite.sock # ... with appropriate permissions- may be needed chmod-socket = 666 # clear environment on exit vacuum = true mysite_nginx.conf # # mysite_nginx.conf # the upstream component nginx needs to connect to upstream django { # for a file socket server unix:/full/path/to/mysite.sock; # for a web port socket (we\u0026#39;ll use this first) #server 127.0.0.1:8001; } # configuration of the server server { # the port your site will be served on listen 80; # the domain name it will serve for server_name domain; # substitute your machine\u0026#39;s IP address or FQDN ex: .google.com charset utf-8; # max upload size # adjust to taste client_max_body_size 75M; # Django media location /media { # your Django project\u0026#39;s media files- amend as required alias /full/path/to/Django/mysite/media; } # Django static location /static { alias /full/path/to/Django/mysite/static; # your Django project\u0026#39;s static files- amend as required } # Finally, send all non-media requests to the Django server. location / { uwsgi_pass django; include uwsgi_params; # the uwsgi_params file you installed } } Add to startup # vim /etc/rc.local Text:\n/full/path/to/uwsgi --ini /full/path/to/uwsgi.ini ","date":"22 May 2015","externalUrl":null,"permalink":"/posts/2015/0522-debian-6-nginx-uwsgi-to-run-django-website/","section":"","summary":"On Host # Crate debian-archive-keyring # apt-get install debian-archive-keyring apt-get update apt-get upgraded Install some tools # apt-get install vim apt-get install emacs Add new user # adduser username Install sudo tool # apt-get install sudo Change /etc/sudoers # vim /etc/sudoers username ALL=(ALL) NOPASSWD: ALL Please use this setting carefully","title":"Debian 6 + nginx + uwsgi to run Django website","type":"posts"},{"content":"","date":"22 May 2015","externalUrl":null,"permalink":"/tags/nginx/","section":"Tags","summary":"","title":"NGINX","type":"tags"},{"content":"","date":"22 May 2015","externalUrl":null,"permalink":"/tags/uwsgi/","section":"Tags","summary":"","title":"UWSGI","type":"tags"},{"content":"","date":"1 January 0001","externalUrl":null,"permalink":"/en/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","date":"1 January 0001","externalUrl":null,"permalink":"/en/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","date":"1 January 0001","externalUrl":null,"permalink":"/en/series/","section":"Series","summary":"","title":"Series","type":"series"},{"content":"","date":"1 January 0001","externalUrl":null,"permalink":"/en/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"}]